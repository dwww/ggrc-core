{{!
    Copyright (C) 2013 Google Inc., authors, and contributors <see AUTHORS file>
    Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
    Created By: brad@reciprocitylabs.com
    Maintained By: brad@reciprocitylabs.com
}}

{{!section class="widget... }}
  {{#if_equals widget_id "people_list"}}
  <div class="filter-holder">
    <div class="inline-filtering sticky-filter search-filters">
      <form class="form-search" onsubmit="return false" autocomplete="off">
        <div class="row-fluid">
          <div class="span3">
            <div class="filter-title">
              <h6>
                Filter People
              </h6>
            </div>
          </div>
          <div class="span9">
            <ul class="quick-filters">
              <li>
                <label>
                  By Name
                </label>
                <input name="search" type="text" value="" class="input-medium" value="{{search_query}}" placeholder="By name, email or company">
              </li>
              <li>
                <label>
                  By Roles
                </label>
                <select name="user_role">
                  <option value="" selected>All Roles</option>
                  {{#roles}}
                    <option value="{{id}}">{{name}}</option>
                  {{/roles}}
                </select>
              </li>
            </ul>
          </div>
        </div>
      </form>
    </div>
  </div>
  {{/if_equals}}

  {{#if_equals widget_id "task"}}
  <div class="filter-holder">
    <div class="inline-filtering task-filtering">
      <form class="form-search" onsubmit="return false" autocomplete="off">
        <div class="row-fluid">
          <div class="span2">
            <div class="filter-title">
              <h6>
                Filter Tasks
              </h6>
            </div>
          </div>
          <div class="span2">
            {{#is_dashboard}}
              <input type="text" name="cycle_task_group_object.title" {{data 'from-list'}} data-lookup="cycle_task_group_object.object" class="input-block-level" placeholder="Filter by Object" data-template="/directives/autocomplete_result.mustache" value="" {{^list}}disabled="disabled"{{/list}}>
            {{/is_dashboard}}
          </div>
          <div class="span2">
            <input type="text" name="cycle.workflow.title" {{data 'from-list'}} data-lookup="cycle.workflow" class="input-block-level" placeholder="Filter by Workflow" value="" {{^list}}disabled="disabled"{{/list}}>
          </div>
          <div class="span6">
            <ul class="quick-filters">
              <li>
                <label>
                  By Status
                </label>
                <select name="status" class="input-small">
                  <option value="">Any</option>
                  <option value="Verified">Verified</option>
                  <option value="Finished">Finished</option>
                  <option value="InProgress">In Progress</option>
                  <option value="Assigned">Assigned</option>
                </select>
              </li>
              <li>
                <label>
                  <input class="checkbox" type="checkbox" value="overdue" name="overdue">
                  Show overdue only
                </label>
              </li>
              <li>
                <label>
                  <input class="checkbox" type="checkbox"
                    custom-event="show-history"
                    data-toggle="filter-reset"
                    name="h"
                    mapping="{{toggle_string mapping '_with_history'}}">
                  Show History
                </label>
              </li>
              <li>
                <button type="reset" class="btn btn-small btn-draft" data-toggle="filter-reset">Reset</button>
              </li>
            </ul>
          </div>
        </div>
      </form>
    </div>
  </div>
  {{/if_equals}}

  {{#if_equals widget_id "request"}}
  <div class="filter-holder">
    <div class="sticky-filter inner-filter-sticky">
      <div class="inline-filtering" {{ (el) -> el.ggrc_controllers_tree_filter() }} >
        <form>
          <div class="row-fluid">
            <div class="span3">
              <div class="filter-title">
                <h6>
                  Filter Requests
                </h6>
              </div>
            </div>
            <div class="span9">
              <ul class="quick-filters">
                <li>
                  <label>
                    Requested before
                  </label>
                  <input class="input-date date" name="requested_on" data-toggle="datepicker" data-after="filter_start_date" placeholder="/ /" type="text" value="">
                </li>
                <li>
                  <label>
                    By Type
                  </label>
                  <select name="request_type">
                    {{#iterate "" "Documentation" "Interview"}}
                    <option value="{{iterator.toLowerCase}}" {{#iterator.toLowerCase}}{{#trim}}{{#if_equals this states.request_type}}selected="true"{{/trim}}{{/iterator.toLowerCase}}{{/if_equals}}>{{firstnonempty iterator "Any"}}</option>
                    {{/iterate}}
                  </select>
                </li>
                <li>
                  <label>
                    By Status
                  </label>
                  <select name="status">
                    <option value="" selected="true">Any</option>
                    <option>Draft</option>
                    <option>Requested</option>
                    <option>Responded</option>
                    <option>Amended Request</option>
                    <option>Updated Response</option>
                    <option>Accepted</option>
                  </select>
                </li>
              </ul>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  {{/if_equals}}

  {{^if_equals widget_id "task"}}
  {{^if_equals widget_id "info"}}
  {{^if_equals widget_id "people_list"}}
  {{^if_equals widget_id "request"}}
  <div class="filter-holder">
    <div class="sticky-filter inner-filter-sticky">
      <div class="inline-filtering"  >
        <div class="row-fluid">
          <div class="span2">
            <div class="filter-title">
              <h6>
                Filter
                {{#instance}}
                  {{far_model.title_plural}}
                {{/instance}}
              </h6>
            </div>
          </div>
          <div class="span8">
            <div class="filter-input">
              <input name="filter_query" type="text" class="input-wide">
            </div>
          </div>
          <div class="span2">
            <div class="filter-button">
              <i class="grcicon-help-black" rel="tooltip" placeholder="left" data-original-title="Description goes here"></i>
              <input type="submit" class="btn btn-small btn-info" name="" id="" value="Filter">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {{/if_equals}}
  {{/if_equals}}
  {{/if_equals}}
  {{/if_equals}}

  {{#if_equals widget_id "roles_list"}}
    <header class="header tree-header no-left-space">
      <div class="row-fluid">
        <div class="span6">
          <div class="title-heading oneline">
            Role
          </div>
        </div>
        <div class="span6">
          <div class="title-heading oneline right">
            Role Scope
          </div>
        </div>
      </div>
    </header>
  {{/if_equals}}
  {{#if_equals widget_id "people_list"}}
    <header class="header tree-header">
      <div class="row-fluid">
        <div class="span4">
          <div class="title-heading oneline">
            {{far_model.title_singular}} Name
          </div>
        </div>
        <div class="span2">
          <div class="oneline">
            Email
          </div>
        </div>
        <div class="span2">
          <div class="oneline">
            Authorizations
          </div>
        </div>
        <div class="span4">
          <ul class="tree-action-list">
            <li class="filter-trigger">
              <a href="javascript://" class="active">
                <i class="grcicon-search" rel="tooltip" data-placement="left" title="" data-original-title="Hide Filter"></i>
              </a>
            </li>
            <!-- Temporary hidden. Do not remove this.
            <li>
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="grcicon-setup-color"></i></a>
              <div class="dropdown-menu dropdown-menu-form">
                <h5>Set visible fields</h5>
                <ul class="attr-list">
                  <li class="disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="" disabled="">
                      Name
                    </label>
                  </li>
                  <li class=" disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="" disabled="">
                      Email
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="">
                      Authorizations
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox">
                      Company
                    </label>
                  </li>
                </ul>
                <button class="btn btn-small btn-info">Set fields</button>
              </div>
            </li>
            -->
          </ul>
        </div>
      </div>
    </header>
  {{/if_equals}}

  {{#if_equals widget_id "person"}}
    <header class="header tree-header">
      <div class="row-fluid">
        <div class="span4">
          <div class="title-heading oneline">
            {{far_model.title_singular}} Name
          </div>
        </div>
        <div class="span2">
          <div class="oneline">
            Email
          </div>
        </div>
        <div class="span2">
          <div class="oneline">
            Authorizations
          </div>
        </div>
        <div class="span4">
          <ul class="tree-action-list">
            <li class="filter-trigger">
              <a href="javascript://" class="active">
                <i class="grcicon-search" rel="tooltip" data-placement="left" title="" data-original-title="Hide Filter"></i>
              </a>
            </li>
            <!-- Temporary hidden. Do not remove this.
            <li>
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="grcicon-setup-color"></i></a>
              <div class="dropdown-menu dropdown-menu-form">
                <h5>Set visible fields</h5>
                <ul class="attr-list">
                  <li class="disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="" disabled="">
                      Name
                    </label>
                  </li>
                  <li class=" disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="" disabled="">
                      Email
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="">
                      Authorizations
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox">
                      Company
                    </label>
                  </li>
                </ul>
                <button class="btn btn-small btn-info">Set fields</button>
              </div>
            </li>
            -->
          </ul>
        </div>
      </div>
    </header>
  {{/if_equals}}

  {{#if_equals widget_id "current"}}
    <header class="header tree-header">
      <div class="row-fluid">
        <div class="span6">
          <div class="title-heading oneline">
            Title
          </div>
        </div>
        <div class="span2">
          <div class="oneline">
            End Date
          </div>
        </div>
        <div class="span4">
          <ul class="tree-action-list">
            <li class="filter-trigger">
              <a href="javascript://" class="active">
                <i class="grcicon-search" rel="tooltip" data-placement="left" title="" data-original-title="Hide Filter"></i>
              </a>
            </li>
            <!-- Temporary hidden. Do not remove this.
            <li>
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="grcicon-setup-color"></i></a>
              <div class="dropdown-menu dropdown-menu-form">
                <h5>Set visible fields</h5>
                <ul class="attr-list">
                  <li class="disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="" disabled="">
                      Name
                    </label>
                  </li>
                  <li class=" disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="" disabled="">
                      Email
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="">
                      Authorizations
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox">
                      Company
                    </label>
                  </li>
                </ul>
                <button class="btn btn-small btn-info">Set fields</button>
              </div>
            </li>
            -->
          </ul>
        </div>
      </div>
    </header>
  {{/if_equals}}

  {{#if_equals widget_id "history"}}
    <header class="header tree-header">
      <div class="row-fluid">
        <div class="span6">
          <div class="title-heading oneline">
            Title
          </div>
        </div>
        <div class="span2">
          <div class="oneline">
            End Date
          </div>
        </div>
        <div class="span4">
          <ul class="tree-action-list">
            <li class="filter-trigger">
              <a href="javascript://" class="active">
                <i class="grcicon-search" rel="tooltip" data-placement="left" title="" data-original-title="Hide Filter"></i>
              </a>
            </li>
            <!-- Temporary hidden. Do not remove this.
            <li>
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="grcicon-setup-color"></i></a>
              <div class="dropdown-menu dropdown-menu-form">
                <h5>Set visible fields</h5>
                <ul class="attr-list">
                  <li class="disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="" disabled="">
                      Name
                    </label>
                  </li>
                  <li class=" disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="" disabled="">
                      Email
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="">
                      Authorizations
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox">
                      Company
                    </label>
                  </li>
                </ul>
                <button class="btn btn-small btn-info">Set fields</button>
              </div>
            </li>
            -->
          </ul>
        </div>
      </div>
    </header>
  {{/if_equals}}

  {{#if_equals widget_id "task_group"}}
    <header class="header tree-header">
      <div class="row-fluid">
        <div class="span6">
          <div class="title-heading oneline">
            Task Group
          </div>
        </div>
        <div class="span2">
          <div class="oneline">
            Assignee
          </div>
        </div>
        <div class="span4">
          <ul class="tree-action-list">
            <li class="filter-trigger">
              <a href="javascript://" class="active">
                <i class="grcicon-search" rel="tooltip" data-placement="left" title="" data-original-title="Hide Filter"></i>
              </a>
            </li>
            <!-- Temporary hidden. Do not remove this.
            <li>
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="grcicon-setup-color"></i></a>
              <div class="dropdown-menu dropdown-menu-form">
                <h5>Set visible fields</h5>
                <ul class="attr-list">
                  <li class="disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="" disabled="">
                      Name
                    </label>
                  </li>
                  <li class=" disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="" disabled="">
                      Email
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="">
                      Authorizations
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox">
                      Company
                    </label>
                  </li>
                </ul>
                <button class="btn btn-small btn-info">Set fields</button>
              </div>
            </li>
            -->
          </ul>
        </div>
      </div>
    </header>
  {{/if_equals}}

  {{#if_equals widget_id "request"}}
    <header class="header tree-header">
      <div class="row-fluid">
        <div class="span3">
          <div class="title-heading oneline">
            {{far_model.title_singular}} Title
          </div>
        </div>
        <div class="span3">
          <div class="row-fluid">
            <div class="span6">
              <div class="oneline">
                Control
              </div>
            </div>
            <div class="span6">
              <div class="oneline">
                Owner
              </div>
            </div>
          </div>
        </div>
        <div class="span1">
          <div class="oneline">
            Due Date
          </div>
        </div>
        <div class="span1">&nbsp;</div>
        <div class="span4">
          <ul class="tree-action-list">
            <li class="filter-trigger">
              <a href="javascript://" class="active">
                <i class="grcicon-search" rel="tooltip" data-placement="left" title="" data-original-title="Hide Filter"></i>
              </a>
            </li>
            <!-- Temporary hidden. Do not remove this.
            <li>
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="grcicon-setup-color"></i></a>
              <div class="dropdown-menu dropdown-menu-form">
                <h5>Set visible fields</h5>
                <ul class="attr-list">
                  <li class="disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="" disabled="">
                      Name
                    </label>
                  </li>
                  <li class=" disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="" disabled="">
                      Email
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="">
                      Authorizations
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox">
                      Company
                    </label>
                  </li>
                </ul>
                <button class="btn btn-small btn-info">Set fields</button>
              </div>
            </li>
            -->
          </ul>
        </div>
      </div>
    </header>
  {{/if_equals}}

  {{#if_equals widget_id "custom_attribute"}}
  {{^is_dashboard}}
    <header class="header">
      <h2>
        {{{widget_name}}}
      </h2>
    </header>
  {{/is_dashboard}}
  {{/if_equals}}

  {{#if_equals widget_id "events_list"}}
  {{^is_dashboard}}
    <header class="header">
      <h2>
        {{{widget_name}}}
      </h2>
    </header>
  {{/is_dashboard}}
  {{/if_equals}}

  {{#if_equals widget_id "info"}}
  {{^is_dashboard}}
    <header class="header">
      <h2>
        {{{widget_name}}}
      </h2>
    </header>
  {{/is_dashboard}}
  {{/if_equals}}

  {{^if_equals widget_id "info"}}
  {{^if_equals widget_id "person"}}
  {{^if_equals widget_id "people_list"}}
  {{^if_equals widget_id "task_group"}}
  {{^if_equals widget_id "roles_list"}}
  {{^if_equals widget_id "current"}}
  {{^if_equals widget_id "history"}}
  {{^if_equals widget_id "request"}}
  {{^if_equals widget_id "events_list"}}
  {{^if_equals widget_id "custom_attribute"}}
    <header class="header tree-header">
      <div class="row-fluid">
        <div class="span4">
          <div class="title-heading oneline">
            {{far_model.title_singular}} Title
          </div>
        </div>
        <div class="span2">
          <div class="oneline">
            Owner
          </div>
        </div>
        <div class="span1">
          <div class="oneline">
            Code
          </div>
        </div>
        <div class="span1">
          <div class="oneline">
            State
          </div>
        </div>
        <div class="span4">
          <ul class="tree-action-list">
            <li class="filter-trigger">
              <a href="javascript://" {{^filter_is_hidden}}class="active"{{/filter_is_hidden}}>
                <i class="grcicon-search" rel="tooltip" data-placement="left" title="" data-original-title="Hide Filter"></i>
              </a>
            </li>
            <li>
              <a href="#">
                <i class="grcicon-hide-relevant" rel="tooltip" data-placement="left" title="" data-original-title="Hide Irelevant"></i>
              </a>
            </li>
            <!-- Temporary hidden. Do not remove this.
            <li>
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="grcicon-setup-color"></i></a>
              <div class="dropdown-menu dropdown-menu-form">
                <h5>Set visible fields</h5>
                <ul class="attr-list">
                  <li class="disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="" disabled="">
                      Title
                    </label>
                  </li>
                  <li class=" disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" disabled="">
                      Description
                    </label>
                  </li>
                  <li class=" disabled">
                    <label class="checkbox-inline">
                      <input type="checkbox" disabled="">
                      Notes
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="">
                      Owner
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox">
                      Contact
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="">
                      Code
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox" checked="">
                      State
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox">
                      Network Zone
                    </label>
                  </li>
                  <li>
                    <label class="checkbox-inline">
                      <input type="checkbox">
                      System url
                    </label>
                  </li>
                </ul>
                <button class="btn btn-small btn-info">Set fields</button>
              </div>
            </li>
            -->
          </ul>
        </div>
      </div>
    </header>
  {{/if_equals}}
  {{/if_equals}}
  {{/if_equals}}
  {{/if_equals}}
  {{/if_equals}}
  {{/if_equals}}
  {{/if_equals}}
  {{/if_equals}}
  {{/if_equals}}
  {{/if_equals}}

  <section class="content">
    {{{widget_initial_content}}}
  </section>
{{!/section}}
